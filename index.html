<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        #myCanvas{
            display: block;
            /*background: #fff;*/
            margin: 0 auto;
            margin-top: 150px;
        }
        body{
            background: black;
        }
        .box{
            width: 80px;
            height: 40px;
            border-radius: 5px 5px 0px 0px;
            background: brown;
        }
        .left{
            position: absolute;
            top: 238px;
            left: 515px;
            transform:rotate(-15deg)
        }
        .right{
            position: absolute;
            top: 238px;
            left: 685px;
            transform:rotate(15deg)
        }
        .baicunDiv{
            width: 420px;
            height: 420px;
            /*background: navy;*/
            position: absolute;
            top:240px;
            left: 430px;
            z-index: -1;
        }
        #myCanvasBaicun{
            /*background: darkgrey;*/
        }
    </style>
</head>
<body>
<div class="baicunDiv"><canvas id="myCanvasBaicun" width="420" height="420"></canvas></div>
    <canvas id="myCanvas" width="400" height="600"></canvas>
    <div class="box left"></div>
    <div class="box right"></div>
<!--<div class="baicunDiv"><canvas id="myCanvasBaicun" width="400" height="600"></canvas></div>-->
</body>
<script charset="utf-8">
    var myCanvas=document.getElementById("myCanvas").getContext("2d");
    var myCanvasBaicun=document.getElementById("myCanvasBaicun").getContext("2d");
    /**画圆**/
//    function translateFun(){
//        myCanvas.translate(200,200);
//    }
    function baicunshang(){
        myCanvasBaicun.save();
        myCanvasBaicun.beginPath();
        myCanvasBaicun.translate(210,15);
        myCanvasBaicun.fillStyle="brown";
        myCanvasBaicun.lineWidth=10;
        myCanvasBaicun.arc(0,0,15,0,Math.PI/180*360,false);
        myCanvasBaicun.fill();
        myCanvasBaicun.restore();
    }
    function rbaicun(){
        myCanvasBaicun.save();
        myCanvasBaicun.beginPath();
        myCanvasBaicun.translate(210, 300);
        myCanvasBaicun.lineWidth=15;
        myCanvasBaicun.strokeStyle="brown";
        myCanvasBaicun.rotate(Math.PI/180*180);
        myCanvasBaicun.moveTo(0,245);
        myCanvasBaicun.lineTo(0,280);
        myCanvasBaicun.stroke();
        myCanvasBaicun.restore();

    }
    function myCanvasBaicunRun(){
        rbaicun()
        baicunshang()
    }
    myCanvasBaicunRun();

    function fenzhi1(){
        myCanvas.save();
        myCanvas.beginPath();
        myCanvas.translate(200, 300);
        myCanvas.lineWidth=15;
        myCanvas.strokeStyle="brown";
        myCanvas.rotate(Math.PI/180*340);
        myCanvas.moveTo(0,150);
        myCanvas.lineTo(0,220);
        myCanvas.stroke();
        myCanvas.restore();

    }
    function fenzhi2(){
        myCanvas.save();
        myCanvas.beginPath();
        myCanvas.translate(200, 300);
        myCanvas.lineWidth=15;
        myCanvas.strokeStyle="brown";
        myCanvas.rotate(Math.PI/180*20);
        myCanvas.moveTo(0,150);
        myCanvas.lineTo(0,220);
        myCanvas.stroke();
        myCanvas.restore();

    }
    function baicun(){
        myCanvas.save();
        myCanvas.beginPath();
        myCanvas.translate(200, 300);
        myCanvas.lineWidth=15;
        myCanvas.strokeStyle="brown";
        myCanvas.rotate(Math.PI/180*180);
        myCanvas.moveTo(0,150);
        myCanvas.lineTo(0,190);
        myCanvas.stroke();
        myCanvas.restore();

    }
    function yuanWai(){
        myCanvas.save();
        myCanvas.beginPath();
        myCanvas.translate(200,300);
        myCanvas.strokeStyle="#ddd";
        myCanvas.lineWidth=10;
//        myCanvas.shadowOffsetX=3;
//        myCanvas.shadowBlur=15;
//        myCanvas.shadowColor="#aaa"
        myCanvas.arc(0,-180,80,Math.PI/180*32,Math.PI/180*145,true);
//        myCanvas.closePath();
        myCanvas.stroke();
        myCanvas.restore();
    }
    function yuan(){
        myCanvas.save();
        myCanvas.beginPath();
        myCanvas.translate(200,300);
        myCanvas.strokeStyle="#ddd";
        myCanvas.lineWidth=10;
//        myCanvas.shadowOffsetX=3;
//        myCanvas.shadowBlur=15;
//        myCanvas.shadowColor="#aaa"
        myCanvas.arc(0,0,150,0,Math.PI/180*360,false);
//        myCanvas.closePath();
        myCanvas.stroke();
        myCanvas.restore();
    }
    /**画刻度**/
    function kedu(){
        for(var i=1;i<=60;i++) {
            myCanvas.save();
            myCanvas.beginPath();
            myCanvas.translate(200, 300);
            if(i%5==0){
                myCanvas.lineWidth=6;
                myCanvas.strokeStyle="#ddd";
                myCanvas.rotate(Math.PI/180*6*i);
                myCanvas.moveTo(0,130);
                myCanvas.lineTo(0,145);
            }
            else{
                myCanvas.lineWidth=3;
                myCanvas.strokeStyle="brown";
                myCanvas.rotate(Math.PI/180*6*i);
                myCanvas.moveTo(0,137);
                myCanvas.lineTo(0,145);
            }
            myCanvas.stroke();
            myCanvas.restore();
        }
    }
    /**画秒针**/
    function miao(){
        var s=new Date().getSeconds();
        myCanvas.save();
        myCanvas.beginPath();
        myCanvas.translate(200, 300);
        myCanvas.lineWidth=3;
        myCanvas.strokeStyle="brown";
        myCanvas.rotate(Math.PI/180*6*(s+30))
        myCanvas.moveTo(0,-20);
        myCanvas.lineTo(0,120);
        myCanvas.stroke();
        myCanvas.restore();

    }

    /**画分针**/
    function fenzhen(){
        var s=new Date().getSeconds();
        var f=new Date().getMinutes();
        console.log(new Date());
        myCanvas.save();
        myCanvas.beginPath();
        myCanvas.translate(200, 300);
        myCanvas.lineWidth=6;
        myCanvas.strokeStyle="brown";
        myCanvas.rotate(Math.PI/180*(6*(f+30)+s/10));
        myCanvas.moveTo(0,-20);
        myCanvas.lineTo(0,100);
        myCanvas.stroke();
        myCanvas.restore();

    }
    /**画时针**/
    function shizhen(){
        var h=new Date().getHours()%12;
        var s=new Date().getSeconds();
        var f=new Date().getMinutes();
        console.log("++时针++"+h);
        myCanvas.save();
        myCanvas.beginPath();
        myCanvas.translate(200, 300);
        myCanvas.lineWidth=9;
        myCanvas.strokeStyle="brown";
        myCanvas.rotate(Math.PI/180*(30*(h+6)+f/2));
        myCanvas.moveTo(0,-20);
        myCanvas.lineTo(0,70);
        myCanvas.stroke();
        myCanvas.restore();

    }

    /**画圆心**/
    function yuanCenter(){
        myCanvas.save();
        myCanvas.beginPath();
        myCanvas.translate(200,300);
        myCanvas.fillStyle="#EEE";
        myCanvas.lineWidth=10;
        myCanvas.arc(0,0,10,0,Math.PI/180*360,false);
        myCanvas.fill();
        myCanvas.restore();
    }



    function clockRun(){
        myCanvas.clearRect(0,0,400,600);
        yuanWai()
        fenzhi1()
        fenzhi2()
//        baicun()
        yuan();
        kedu();
        miao();
        fenzhen();
        shizhen()
        yuanCenter()
    }
    setInterval(clockRun,50)


    var baicunDiv=document.getElementsByClassName("baicunDiv")[0];
    function baicunInit(){
        baicunDiv.style.transform="rotate(8deg)"
    }
    baicunInit();
    function baidong(){
        baicunDiv.style.transform="rotate(-8deg)";
        baicunDiv.style.webkitTransition="all .5s linear";
        setTimeout(function(){
            baicunDiv.style.transform="rotate(8deg)";
            baicunDiv.style.webkitTransition="all .5s linear"
        },500)
    }
    var bb=function(){setInterval(baidong,1000)}
    setTimeout(function(){
        baidong()
        bb()
    },0)
</script>
</html>
